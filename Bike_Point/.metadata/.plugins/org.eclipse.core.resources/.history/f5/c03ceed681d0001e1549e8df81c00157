package com.bikepoint.service;

import javax.transaction.Transactional;

import org.modelmapper.ModelMapper;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.bikepoint.dao.PartDatabaseDao;
import com.bikepoint.dto.PartDatabaseDatabaseDto;
import com.bikepoint.entites.PartDatabase;
import com.bikepoint.exception.ResourceNotFoundException;

@Service
@Transactional
public class PartDatabaseDatabseServiceImpl implements PartDatabaseService {

	@Autowired
	private PartDatabaseDao PartDatabaseDao;

	@Autowired
	private ModelMapper mapper;

	@Override
	public PartDatabaseDatabaseDto addPartDatabase(PartDatabaseDatabaseDto PartDatabase) {
		PartDatabase par = mapper.map(PartDatabase, PartDatabase.class);
		return mapper.map(PartDatabaseDao.save(par), PartDatabaseDatabaseDto.class);
	}

	@Override
	public PartDatabaseDatabaseDto findPartDatabaseById(long id) throws ResourceNotFoundException{
		PartDatabase PartDatabase= PartDatabaseDao.findById(id).orElseThrow(()->new ResourceNotFoundException("PartDatabase not found"));
		return mapper.map(PartDatabase, PartDatabaseDatabaseDto.class);
	}

}
